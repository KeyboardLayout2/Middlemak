
### [Middlemak Layout and Heatmap](https://imgur.com/a/xl69OcK)

    QWLDG JFOU:
    ASRTP YNEIH
    ZXCVB KM,./

#### [Middlemak GitHub download.](https://github.com/KeyboardLayout2/Middlemak)

#### Variant: Middlemak-NH.

    QWLDG JFOU:
    NSRTP YHEIA
    ZXCVB KM,./

#### [Middlemak-NH GitHub download.](https://github.com/KeyboardLayout2/Middlemak-NH)

Middlemak is named for using the middle-finger-upper-row position for frequent letters. The bulk of the discussion is about Middlemak. Middlemak-NH will mostly be discussed separately, see the option header. 

The main design criteria of Middlemak was:

1) Use the middle-finger-upper-row position. The middle finger is a very strong finger, and the middle-finger-upper-row is a very good location for frequent letters.

2) To reduce pinballing by putting most vowels on the right hand and putting most of the frequent consonants on the left hand.

3) Reduce the number of Near Finger Bigrams (NFBs).

4) Improve hand balance.

5) Keep SFB down of course. 

6) A secondary design criteria was low ring-to-pinky-rolls. I find this to be an awkward movement.

7) Maintain Qwerty similarity to make it easier to learn.

These are all discussed in more detail below. (I’ll be talking in the context of Colemak for some of it. I don’t mean this to be a hit piece on Colemak, it’s just the best way to frame the items.)

### 1) Middle-Finger-Upper-Row

The main purpose of this layout is to place 2 common letters on the middle-finger-upper-row. The middle finger is very strong and these are excellent locations that are easy to reach.

When you look at the letter frequency, there are 11 common letters before it takes a big drop off. The first eight letters go on the home row under the fingers. The next question is where do the next 3 letters go. Middlemak’s philosophy is to place 2 on the middle-finger-upper-row, and 1 on the index-finger-upper-row. Colemak places 2 on the centre columns, requiring a lateral movement that many find uncomfortable. Workman has 1 middle-finger-upper-row, 1 ring-finger-upper-row, and 1 index-finger-lower-row, a mixed bag.

L pairs well with R for low SFB. Middlemak places the RL column on the middle finger, which puts the common L on the middle-finger-upper-row.

E and O pair very well for low SFB. Placing EO column on the middle finger puts the very common O on the middle-finger-upper-row.

Using the middle finger also unloads the index fingers. The index fingers can get very busy with 6-7 letters compared with the other letters 3, especially when multiple frequent letters are put on them. I’ll give the distance stats in “Excessive amounts of stats” section far below which shows the drastic difference.

(I’ll skip discussing D here, it’s in “Excessive amounts of detail”. I also cover the R position more there.)

### 2) Pinballing

I wrote about pinballing in length [below](https://www.reddit.com/r/Middlemak/wiki/index#wiki_my_personal_ponderings). The short of it is that there is an incredibly strong interaction between vowels and the consonants, with 75% of all bigrams between vowels and consonants. PInballing can happen when a lot of vowels and consonants are put on the same hand, the hand movement will pinball back and forth between the vowels and consonants. This would be redirects upon redirects, etc. 

I’ll cover Colemak first to outline the issue. Having most of the vowels EOIUY and many frequent  consonants of NHLMKJ on the right hand leads to a pinballing problem. I call this the NHLMKJ wall, it’s a wall of consonants that the vowels pinball off of. As in you’ll type a vowel, then one of the right hand consonants, then a vowel again, then a right hand consonant, etc. E.g. the word “unlikely” (on Colemak).

To reduce pinballing Middlemak does two things:

First Middlemak moves L off the vowel hand and to the consonant hand. This (and moving H) reduces the wall to NMFKJ which is much lower frequency. This works in two ways, for either the word to start with NMFKJ, or for it to pinball off of.

Second it moves H to the pinky. H is a very unique letter because it’s almost always followed by a vowel. Moving H to the pinky means it almost always gives an inside roll.  After the vowel, it generally continues to the consonants NMFPJ continuing the inside roll, or it alternates to the other hand. Rarely goes back to H. Generally only after the third letter can it *start* to pinball back to the vowels or back to H. 

Combined, this reduces pinballing and increases alternating. It’s not entirely alternating, Middlemak still has rolls because it has N, H, and MKFJ. For N I find the rolls to be comfortable, likely because N is on the home row.


### 3) Near Finger Bigrams, NFB

NFB are bigrams that are on adjacent fingers. Too many or an uncomfortable arrangement can be an issue. 
NFB and pinballing are separate issues: NFB is the smaller pattern of adjacent fingers, pinballing is the much larger pattern of pinballing between all vowels and constants.

I’ll cover Colemak first again to highlight the issue. On Colemak there are extremely common NFBs with HE and LE/EL. (There is also NE/EN, but I find the HE and EL/LE to be awkward because L and H are not on the home row.)

Pretty much all E bigrams are fairly high. I think you want to move common consonants away from E to reduce NFBs. For Middlemak, that means moving them away from the EO column. 

Middlemak drastically reduces the NFBs by moving the common letters L and H off the adjacent index finger. The replacements of F and Y have dramatically lower NFBs with E and O. I wanted to keep Colemak’s K there since this doesn’t have many bigrams with E and O.

Looking at other layouts: Workman still has high NFB with L and E. Colemak-DH maintains L and H next to E. Many find the new HE roll to be more comfortable but it’s still a ton of NFB, and LE/EL is still there. MTGAP moved practically all letters away from its E and O and instead put punctuation there, a very good solution.

Middlemak does create some NFB with O placement. Namely OF, ON, and OM. However OF and ON are very comfortable, having the middle finger extended up feels pretty comfortable. OM is ok, and it’s the least common of those 3. The OM scissor-gram is a bit more common than I'd like, but it feels ok. This is about the best location for a scissor-gram too, with the long-middle-finger up and the curl-index-finger down being able to handle it fairly well. (Just to mention Colemak’s EL/LE, not exactly a scissor-gram, I find is bad since the shorter index finger has to reach up and the middle finger is so long it’s already curled just to be on the home row.)

Overall, Middlemak moving common consonants away from E drastically lowers the number of NFBs and takes away a ton of awkward movements. Visually, I think you can see this pretty easily in the heatmaps.

(You can extend this concept to fingers further away, to include Colemaks HI, LI, etc. This can be valid, but for here I’ll focus on adjacent fingers.)

### 4) Hand balance

Hand balance is a difficult topic. The two most obvious metrics for hand dominance are 1) the frequency of the letters, and 2) the distance the fingers have to travel (which is different from frequency because you don't travel to the home-row). But any pinballing from having too many vowels and consonants on the same hand doesn’t show up in those numbers. Having said that, I’m going to look at frequency and distance. 

Keyboard|Vowel Hand|Dominant Hand|Hand Balance ratio based on Frequency|Hand Balance ratio based on Distance|Hand Balance ratio based on Frequency and Distance|Corrected comparison number for left hand dominant
:--|:--|:--|:--|:--|:--|:--
QWERTY|n/a|Left|0.77|1.06|0.82|**1.22**
Norman|n/a|Right|0.93|1.27|**1.19**|
Beakl-15|Left|Right|1.07|1.48|**1.59**
Workman|Right|Left|0.97|0.82|0.80|**1.26**
Dvorak|Left|Right|1.23|1.86|**2.30**|
Middlemak|Right|Right|1.05|1.06|**1.11**|
Colemak|Right|Right|1.14|1.15|**1.32**|
MiddlemakNH|Right|Right|1.11|1.04|**1.15**|
MTGAP|Left|Right|1.00|1.43|**1.43**|
Nerps(ansi)|Right|Right|1.06|0.98|**1.04**
Engram|Left|Right|1.09|1.43|**1.56**|
CTGAP(final/5)|Right|Right|1.16|1.23|**1.43**|
APTv3|Right|Right|1.11|1.01|**1.12**|
Canary(ansi)|Right|Right|1.30|1.29|**1.68**
Semimak|Right|Right|1.15|1.30|**1.49**|


Notes: Sorted by SFB count (see next chart). Ratio >1 indicates right hand dominant, <1 indicates left hand dominant. The hand balance ratios are based on each hand's frequency/distance, right hand divided by left hand. E.g. Middlemak: 51.2% right hand frequency divided by 48.8% left hand frequency equals 1.05. Colemak: 53.2% right hand frequency divided by 46.7% left hand frequency equals 1.14. Hand Balance ratio based on Frequency *and* Distance is a simple multiplication of the two ratios. I did this because having more frequency *and* more movement on the same hand amplifies the hand dominance. Or if one hand has more frequency and the other hand has more movement, that would mitigate it to some degree. This is by no means the most definitive way to look at it, but it's what I've managed to come up with. The "Corrected comparison number for left hand dominant" is a hard math thing to explain (that I hope I'm right about anyway). E.g. for Workman listing 0.80 gives the wrong impression the hand dominance is equivalent to 1.2. But it's actually 1.26, obtained from 1/0.796=1.26. 

Middlemak is more balanced on both frequency and distance. When both are considered, it really adds up to being more balanced. Middlemak combined balance ratio is 1.11, compared to Colemak’s 1.32 or Workman’s 1.26.

Middlemak-NH is a tad more unbalanced, but still quite balanced.

Ratios can change quite quickly because both the numerator and the denominator (in this case, the left and right hand) can go in opposite directions. Moving L to the other hand does exactly this - changing both the numerator and denominator, and it changes both the frequency and the distance. So that one move really helps to balance out the hands.

(I’ll add the full data in “Excessive amounts of stats” for both frequency and distance, broken down to hands and fingers. The individual finger load is quite interesting too.)

### 5) SFB (index finger pressing C)

The SFB of Middlemak is still pretty low, but it does come out a tad higher than Colemak’s. Middlemak-NH comes in lower than Colemak (for index finger pressing C). 

I’ve debated how to show this and decided to go with the full nuclear information. Data is from Mayzner revisited in millions (which only has letter bigrams and doesn’t have punctuation data, that’s what the 0’s are).

Keyboard|Total SFB|Left hand SFB|Right hand SFB|L Pinky|L Ring|L Middle|L Index|R Index|R Middle|R Ring|R Pinky
:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--
QWERTY|185,270|125,920|59,350|1,105|1,661|54,502|68,651|34,166|3,970|21,214|0
Beakl-15|85,917|33,527|52,390|2|21,580|3,134|8,812|18,927|31,183|2,157|123
Workman|78,147|29,268|48,878|1,105|3,712|2,806|21,645|27,338|5,037|16,503|0
Dvorak|70,570|28,306|42,264|0|31|0|28,275|12,142|16,265|8,229|5,629
**Middlemak**|**44,698**|**25,806**|**18,892**|**1,105**|**1,661**|**2,716**|**20,323**|**12,415**|**3,134**|**3,343**|**0**
Colemak|39,023|23,336|15,687|1,105|1,267|639|20,323|9,831|5,037|819|0
**MiddlemakNH**|**36,570**|**24,999**|**11,571**|**298**|**1,661**|**2,716**|**20,323**|**5,094**|**3,134**|**3,343**|**0**
MTGAP|34,151|14,550|19,601|1,147|339|3,134|9,931|4,629|8,633|5,071|1,267
Nerps(ansi)|34,056|20,038|14,018|76|2,745|1,435|15,783|7,541|3,134|3,343|0
Engram|31,167|19,467|11,700|124|2,628|3,134|13,581|5,922|1,435|2,344|1,999
CTGAP(final/5)|30,915|20,125|10,790|54|437|6,262|13,371|4,314|3,134|3,343|0
APTv3(ansi)|24,947|14,697|10,251|1,227|6,551|1,435|5,484|2,643|5,037|1,751|819
Canary(ansi)|24,537|13,103|11,434|23|2,745|4,528|5,808|4,957|3,134|3,343|0
Semimak|19,039|9,518|9,520|695|2,716|1,033|5,075|1,913|5,037|1,751|819


Notes: This is with index finger pressing C location, how I think most people type. Adding in punctuation the numbers would be higher.

Notes 2: I think some people have misinterpreted what I mean with index pressing C. I mean on the bottom row: Pinky presses Z. Ring presses X. Middle presses nothing. Index presses C, V, B. This is not angle mod, which is: Pinky presses nothing. Ring presses Z. Middle presses X. Index presses C, V, B. Index finger pressing C (not angle) is how I think most people naturally type on a normal ansi keyboard, but it’s hard to know for sure. Most of the time this doesn’t make much of a difference of SFBs. Nerps, APTv3, Canary above have been given as angle mod because that’s what the creators specifically wanted, and it does make a difference. For index pressing C, they go up. Nerps to 38,832, APTv3(ansi) to 30,893. Canary(ansi) to 27,296. On the flip side Middlemak and Middlemak-NH if using the angle mod go down just a tad, not enough to be worth giving numbers. That means Middlemak and Middlemak-NH works for all 3 of index finger pressing C, angle mod, and “proper” ortho typing (Index finger pressing C actually gives the highest SFB count).  (I could do yet another chart for 3 total on SFBs, but I think this is enough. Note the ortho chart below for APTv3 and Canary uses their ortho specified layouts.)

Middlemak: You can see it’s not all that much of an increase in SFB from Colemak. Overall the numbers are low considering it keeps many Qwerty aspects.

On the left hand: The middle finger goes up from Colemak with R and L. This was to allow more consonants on the left hand and use of the middle-finger-upper-row. I think the middle finger being a strong finger and comfortable reach can handle these quite well. The index finger is the same as Colemak.

On the right hand: The right index goes up a little bit, mostly with NY and MY. They aren’t as high as you may think. But the Y SFBs and adding in NK/KN, NF, etc, they do add up a little. It’s not all that much but it is more. I think it’s still easily manageable. NY is actually not all that common, for example it’s actually less common than EU/UE. (The exact Mayzner numbers are: NY/YN is 2,761 / 373. Compared to EU/UE is 878 / 4,158. MY/YM is 1,753 / 668.) The middle finger actually goes down, EO/OE is very low. The ring finger goes up a bit with UI/IU being more common than Colemak’s IY/YI. 

Middlemak-NH: This is very impressive and in league with full change layouts while keeping Qwerty similarity.

Colemak really did a good job finding low SFB pairings of SF, DT, NHL, RW, and IY. So changing 3 of those pairings for Middlemak does come at a cost - but it’s really not much and it’s done so that Middlemak can put more frequent letters to better spots, reduce pinballing, and reduce NFB. I think the SFB is in the same realm as Colemak, it’s still pretty low.

If you want overall percentages with index finger pressing C:

Layout|SFB %
:--|:--
Qwerty|6.264%
Beakl-15|3.575%
Workman|3.053%
Dvorak|2.639%
**Middlemak**|**2.078%**
Engram|1.863%
Colemak|1.815%
**Middlemak-NH**|**1.784%**
**Middlemak(rotate punctuation)**|**1.614%**
APTv3|1.420%
MTGAP|1.247%
**Middlemak-NH(rotate punctuation)**|**1.272%**
Nerps(ansi)|1.207%
Semimak|1.151%
CTGAP(final/5)|1.142%
Canary(ansi)|1.062%


This is from Colemak-DH analyzer. This is quite a bit different and the differences between them are greater. Engram even switches places. This is from a) different corpus used and b) accounting for punctuation. On a) I used Mayzner Revisited which is a massive 5.6 trillion characters (does not have punctuation or spaces). Not sure what Colemak-DH uses but KLAnext considers 1 million to be big and slow. On b) Mayzner Revisited doesn’t have punctuation. Note that Middlemak doesn’t change punctuation while CTGAP, APTv3, and Canary do change them, presumably to reduce SFBs.

Ok I confirmed the big gap is from punctuation. Changing Middlemaks `,./` to `’,.` and `’` to `/` (like Nerps, CTGAP, similar to Canary) gives dramatically lower SFB%. They are listed as (rotate punctuation). I’ll leave it up to the user to decide if they want to change punctuation.

### Ortho SFB

Keyboard|Total SFB|Left hand SFB|Right hand SFB|L Pinky|L Ring|L Middle|L Index|R Index|R Middle|R Ring|R Pinky
:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--
QWERTY|195,687|136,337|59,350|1,105|1,661|86,462|47,108|34,166|3,970|21,214|0
Beakl-15|85,917|33,527|52,390|2|21,580|3,134|8,812|18,927|31,183|2,157|123
Workman|79,561|30,682|48,878|1,105|3,712|8,206|17,659|27,338|5,037|16,503|0
Dvorak|70,365|28,101|42,264|0|31|1,591|26,480|12,142|16,265|8,229|5,629
**Middlemak**|**42,816**|**23,924**|**18,892**|**1,105**|**1,661**|**14,888**|**6,270**|**12,415**|**3,134**|**3,343**|**0**
**MiddlemakNH**|**34,687**|**23,117**|**11,571**|**298**|**1,661**|**14,888**|**6,270**|**5,094**|**3,134**|**3,343**|**0**
MTGAP|34,151|14,550|19,601|1,147|339|3,134|9,931|4,629|8,633|5,071|1,267
Nerps(ortho)|33,861|19,843|14,018|254|2,745|1,435|15,410|7,541|3,134|3,343|0
Canary(ortho)|31,034|19,600|11,434|179|2,745|10,897|5,780|4,957|3,134|3,343|0
Engram|30,848|20,036|10,812|124|2,628|6,438|10,846|9,010|1,802|0|0
Colemak|30,032|14,345|15,687|1,105|1,267|5,702|6,270|9,831|5,037|819|0
Hands Down Nue|28,429|17,012|11,416|1,267|5,702|3,773|6,270|10,334|126|819|138
CTGAP(final/5)|27,449|16,659|10,790|54|437|7,826|8,341|4,314|3,134|3,343|0
APTv3(ortho)|22,871|12,620|10,251|1,267|6,551|1,435|3,366|2,643|5,037|1,751|819
Semimak|15,384|5,863|9,520|695|2,716|1,368|1,085|1,913|5,037|1,751|819

Notes: This is with the *middle* finger pressing C location, “proper” or ortho style. Same data as above. 

Middlemak on Ortho actually comes in just a tad lower, but Colemak takes a bigger dip.

This basically moves most of the SFB from the index finger to the middle finger. On Middlemak, ortho takes out CT on the index finger and puts in CR and CL on the middle finger, which is only a tad lower. On Colemak, ortho takes out CT and puts in SC which is much lower.

I think it still works well. The middle finger is a strong finger and can cover most of these well. The one issue is that CL which is a two row jump.

I’ll break down the full Mayzner numbers.

Middlemak and Colemak index finger pressing C: CT/TC is 12,998 / 737.

Middlemak Ortho puts in: CR/RC is 4,214 / 3,423. CL/LC is 4,202 / 333. In percentages, CR is 32% of CT, RC is 26% of CT, and CL is 32% of CT. Adding it all up and including all the others (CP, CG, etc), Middlemak Ortho comes in at 87% of CT+TC. Just a tad lower.

Colemak Ortho puts in: CS/SC is 644 / 4,363. CF/ FC is pretty much nill. In percentages, SC is 34% of CT. Adding it all up and including the others, Colemak Ortho comes in at 36% of CT+TC. A big dip.

If you want overall percentages - middle finger pressing C, Ortho style (Data from Colemak-DH analyzer:

Layout|SFB %
:--|:--
Qwerty|6.575%
Beakl-15|3.823%
Workman|3.147%
Dvorak|2.625%
**Middlemak**|**2.160%**
**Middlemak-NH**|**1.866%**
Engram|1.845%
Colemak|1.669%
**Middlemak(rotate punctuation)**|**1.696%**
**Middlemak-NH(rotate punctuation)**|**1.354%**
APTv3|1.375%
MTGAP|1.281%
Nerps(ortho)|1.203%
Canary(ortho)|1.070%
CTGAP(final/5)|1.069%
Semimak|1.068%
Hands Down Nue|0.949%

This is from Colemak-DH analyzer. Again quite different. It oddly says Middlemak and Middlemak-NH ortho increases, as opposed to what I found that ortho decreases SFB on both based on Mayzner Revisited. It must come down to the data set used, specifically CT vs CR+CL. And the same as above, the differences between them are larger which again may be from changing punctuation. 

Same as above, confirmed the big gap is from punctuation. Changing Middlemaks `,./` to `’,.` and `’` to `/` (like Nerps, CTGAP, similar to Canary) gives dramatically lower SFB%. They are listed as (rotate punctuation). I’ll leave it up to the user to decide if they want to change punctuation. It still oddly says ortho version increases. 

### 6) Low ring-to-pinky rolls. And the amazing inside roll from H.

A secondary design goal was to decrease the awkward ring-to-pinky roll. Middlemak greatly reduces this roll. 

On the left hand: Middlemak’s ring-to-pinky outside roll of SA and WA is actually pretty low. SA is actually the lowest bigram of the common consonants to A. So SA and WA comes out to be a good design. Compared to Colemak, Middlemak’s SA outside roll is far less common than Colemak’s RA. (The exact Mayzner in millions are: Middlemak’s SA is 6,147. Colemak’s RA is 19,333. WA is the same for both at 10,865.)

On the right hand: Middlmak’s ring-to-pinky roll of IH and UH is very low. Vs Colemak: IO is very common and even YO is pretty common. (The exact numbers are Middlemak’s IH is 59, UH is 30. Vs Colemak’s IO 23,542, YO is 4,227.)

This next bit isn’t even a secondary design goal, but it’s worth mentioning: On the right hand, outside rolls from any of the fingers to the pinky H are very low. The common letters that come before H are usually TH, CH, WH, SH, and GH. All of those are on the opposite left hand. Doing the math, 97% of the letters before H are on the left hand. H on the pinky gives an amazing inside roll almost all the time. 

Also worth mentioning is I think this also de-emphasizes the pinky a bit. First it limits the ring-to-pinky rolls. Second, the frequency of H is much lower than Colemak’s O. Third, the bigram HH is virtually nill, vs Colemak’s OO which is pretty common. None of these are massive,  but I think they add up to de-emphasizing the pinky a bit.

### 7) Qwerty similarity.

Last but not least, this maintains Qwerty similarity to make it easier to learn. 

First, this maintains the bottom row (except N) and maintains Q, W, A, and S. Many letters move on the same finger, including T, G, N, Y, J.

Second, this “keeps” the ASRT order. People learning Colemak commonly say that R and S are reversed. Technically it’s not because R was never on the middle finger to begin with. But it seems to be reversed in the brain. I think it’s two things. First ASRT keeps it in the same order, with R between S and T, even if R changes fingers. Second, I wonder how many people alt-fingered R typing in Qwerty, either all the time or for the RT bigram.

(I've also wondered if, for example, patterns like the very common ION simply being easier to type would make this faster to learn. I’m not certain about that though.)

Comparing layouts:

- Middlemak: 10 letters stay in their original spot and 16 move, with 5 letters moving on the same finger and 11 letters switching fingers.

- Middlemak-NH: 9 letters stay in their original spot and 17 move, with 5 letters moving on the same finger and 12 letters switching fingers.

- Colemak: 10 letters stay in their original spot and 16 move, with 4 letters moving on the same finger and 12 letters switching fingers.

- Colemak-DH: 5 letters stay in their original spot and 21 move, with 6 letters moving on the same finger and 15 letters switching fingers.

- Workman: 6 letters stay in their original spot and 20 move, with 8 letters moving on the same finger and 12 letters switching fingers.

*Not accounting for punctuation changes.

Considering letters swapping on the same finger, this has fewer changes than Colemak. And I think “keeping” the ASRT order will make it even easier to adopt than the numbers suggest.

(I hope people don’t think that I’m overly focused on keeping S in the Qwerty location just because. For this layout, it does work better with ASRT, I address it in more detail in excessive amount of details.)


### Downsides

1) There is a slight increase in SFB compared to Colemak. But overall I think SFB is still low. 

2) There are a handful of NFB with R: BR, GR, PR, etc. Same with L and BL. This isn’t enough to change the home row to ARST. There is more below but ASRT has lower SFB, lower ring-to-pinky rolls, and is easier to learn. Also note these are much, much lower than the extremely high NFB that Colemak has with HE, LE, etc, (to solve those I paid L and R together).

3) I wanted a less common letter in the G location (Qwerty T location). I really tried to put a less common letter there, but it simply didn’t work.

4) I mention this above but to add more: The OM scissor-gram is a bit more common than I'd like. This is a limitation of keeping Qwerty similarity (the M) and wanting to put O on the upper-row-middle-finger. (MTGAP has a good design on this. It paired its EO with a lot of punctuation on the index finger to reduce NFBs.)

### Conclusion

I'm really happy with this layout. I think it is a great combination of pretty low SFB, good use of the strong middle-finger-upper-row position, reduced NFB and pinballing, keeping Qwerty similarity, and easy to transition to.

Middlemak-NH is even better. I think it’s the elusive low SFB, alternating hands, and keeping qwerty similarity. 

Honestly I’m surprised no one else has stumbled on this arrangement, since many people have taken to trying to fix Colemak’s issues and keep Qwerty similarity.



### Some nice rolls and combinations

Although this increases alternating, there are still plenty of rolls left. Some I want to mention:

HE is very easy.

LD feels very good.

OU feels very comfortable.

OF/FO is very common and feels very good.

IO and ION are very nice rolls.

This maintains the nice IEN roll.

IOU is a redirect, but overall feels pretty ok.

YOU has a lateral move, but feels comfortable.

OU+LD together to make OULD feels good. 

The very common TH, THE, and THE_ feel very nice not having to move the fingers off the home row.

### Vs Colemak and Vs Colemak-DH

I made Middlemak to try to solve the problems I found with Colemak. I think all the items came out above, but as a bit of a summary and to include Colemak-DH.

Colemak:

1) Colemak has an issue with high lateral movement with D and H. You see this especially with H and its NFBs, but D isn’t the best either.

2) Colemak’s right index finger is overworked. It just has too much to do with N, H, and L.

3) Colemak has a pinballing issue due to placing most vowels and many common consonants on the same hand.

4) Colemak has a ton of NFB with EL/LE and HE. 

5) Colemak has a hand balance issue. It places a lot of emphasis on the right hand with the vowels and several common consonants. (Hand dominance and pinballing are technically separate items.)

6) Colemak’s awkward ring-to-pinky rolls. Notably IO, YO (especially when typing YOU), but also RA on the left hand.

7) Not exactly a direct issue with Colemak, but Middlemak is easier to learn coming from Qwerty. Many new users want to ‘keep’ the order of ASRT instead of ‘reversing’ S and R.

Middlemak is a pretty low increase in SFBs and it fixes those issues. 

Colemak DH:

Colemak-DH solves 1) the lateral movements. But it doesn’t solve 2) the right index finger overwork, 3) the pinballing, 4) the NFBs 5) the hand balance, 6) the awkward ring-to-pinky rolls, and 7) coming from Qwerty it’s pretty much a full change layout, taking out any ease of transition. The common shortcuts are accessible, but they move (paste is the same. Undo, cut, and copy move.)


### Option: Middlemak-NH

Swapping N, H, and A gives:

    QWLDG JFOU:
    NSRTP YHEIA
    ZXCVB KM,./

I think this is a great layout to maximize efficiency with most vowels and consonants on opposite hands.

Specific details:

1) The most fundamental change is that it puts all the vowels on one hand and most consonants on the other. This maximizes alternating hands (since 75% of all bigrams are between vowels and consonants) while still maintaining a good amount of Qwerty similarity to make it easy to adopt and keep shortcuts the same. 

2) Second, this is a pretty impressive reduction in SFB by getting rid of NK, KN, NY, NF, and NM (and even AZ). None of those are humongous, but they do add up. 

3) It reduces NFBs. (Explanations on points 3 and 4 get pretty big, the short of it is that it reduces NFBS, massively reduces rolls, and puts in more alternating.) Full details:

3a) Left pinky: being N reduces the ring-to-pinky NFBs even more. WN, SN, and XN are much less common than WA, SA, XA.

3b) Right pinky: being A is slightly worse because it gets rid of the H inside roll. It basically splits the previous HI inside roll to half IA and half AI.

3c) RIght index: being H reduces NFB by replacing ON with OH.

4) It massively reduces rolls, replacing them with alternating hands. Full details:

4a) Left pinky: being N reduces overall rolls with the pinky by a massive 53%. The inside rolls reduce significantly, and the outside rolls to N go to almost nil. 

4b) Right hand pinky: being A reduces overall rolls with the pinky by slight 11%. There is an increase in outside rolls with the pinky (previously having H there meant there was basically no outside rolls).

4c) Right index: being H reduces overall rolls with the index by 45%. There is also an increase in outside rolls (because H to vowels is common), but the reduction from removing N is huge.

Added up the three letters on both hands and it’s an impressive 43% reduction in overall rolls.

5) I expect this would reduce pinballing even more, because H is less common than N in the middle of words and in-between vowels.

6) Putting H, as the sole common consonant, on the same hand with the vowels works very well. H has half its bigrams with vowels and half with consonants, so putting it with the vowels means ~half the bigrams are on the opposite hand. That’s not as high as the vowels (86% of bigrams with consonants), but it’s quite high all things considered.

7) This still maintains a good amount of Qwerty similarity. Not just the ZXCV, but pretty much the whole bottom row of ZXCVB_M,.? including the punctuation. On the top row it keeps QW in the same spots. On the middle row it still “keeps” part of the SRT order. The letters TG and NYJ switch on the same finger as well. I think Qwerty similarity can’t be overlooked to make it easier to learn. 

Downsides:

1) It introduces ND and NG on the same hand. These really don’t feel too bad going from pinky to index inside roll, and this is pretty small considering the amount of rolls taken out. 

2) It’s a tad more unbalanced, with the right hand doing a bit more. I think it’s still quite balanced overall.

Conclusion:

I think this is an extraordinary layout. It has low SFB, alternates hands, in league with many full change layouts, all while keeping Qwerty similarity.

### Quick thoughts on other layout’s O and centre column NFBs.

One of the issues with putting O on the middle-finger-upper-row is that the EO column has a ton of frequency that pairs with the centre column. Think of Colemak’s HE, but now you have an O as well. You have to be careful or theyadd up pretty quickly.

Middlemak (and Middlemak-NH) I specifically put less common bigrams (OJ, OY, and OK) on the center column. These are also low with E. 

Canary(ansi): There are a ton of NFBs with O and the centre column with OF and OM. Canary ortho still has a lot with OM on its centre column.

CTGAP(final/5) has similar NFBs with O and the centre column compared to Middlemak.

MTGAP is top notch in this regard by putting punctuation on the centre column. Very low pairings.

Nerps has a notable handful more than Middlemak with BO/OB. Not huge but not nothing. 

(APTv3 doesn’t have the O on the middle finger. Putting O on the ring-finger-upper-row pushes the NFBs further away but imo puts O in a weaker position.)

If people really want I can put in charts for this. Have them in excel but it’s a lot of data.

### Quick thoughts on columns

A lot of these layouts share similar columns. For consonants many have RL, TD, SW. A lot seems to come down to the C and what to do with it. It’s interesting to see Canary put C essentially by itself, which means 4 common letters are put off the homerow. Nerps and CTGAP put SCW on the same finger. APTv3 makes SC.


# Excessive amount of stats

This section has details on distance reductions, hand balance based on frequency, hand balance based on distance, and raw distance numbers. I'm going to give lots of charts to cover all the details. Those that want to know all the details or those that like to analyze will find this interesting, but others don’t have to read. 

## Distance reduction from Qwerty

Keyboard|Distance|Distance|Distance
:--|:--|:--|:--
||(km)|(miles)|(% reduction from Qwerty)
QWERTY|4.829|3.001|0%
Beakl-15|3.143|1.953|34.9%
Canary(ansi)|2.836|1.762|41.3%
Dvorak|2.813|1.748|41.8%
Semimak|2.739|1.702|43.3%
**Middlemak**|**2.710**|**1.684**|**43.9%**
**MiddlemakNH**|**2.704**|**1.680**|**44.0%**
CTGAP(final/5)|2.681|1.666|44.5%
APTv3|2.663|1.655|44.9%
Nerps(ansi)|2.634|1.637|45.5%
Colemak|2.616|1.625|45.8%
Norman|2.615|1.625|45.9%
Workman|2.613|1.624|45.9%
MTGAP|2.592|1.611|46.3%


*Source: 176k character compilation. Left index used to press Qwerty C location. Includes punctuation. 

Middlemak’s distance reduction is good, most alt keyboards are in the same range. It’s a tad worse on distance than some others because putting O off the home row increases distance, with the O being more frequent. (MTGAP puts O off the home row, but has all the punctuation on the diagonals to decrease distance.)

Other layouts notes: Canary doesn’t reduce as much because putting C on the homerow means there are 4 common letters off home row.

## All Finger Distances

This is the raw distance travelled in metres. Percentages rely on the total distance travelled, which changes between layouts so it's not comparable. Note that distance is different from frequency. The fingers don't move for the home row, the distance travelled is to the other letters.

Keyboard|L Pinky|L Ring|L Middle|L Index|R Index|R Middle|R Ring|R Pinky|L Total|R Total|Total
:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--
QWERTY|130|127|670|1413|1169|452|450|418|2340|2489|4829
Beakl-15|180|330|413|344|810|554|235|276|1267|1875|3143
Canary(ansi)|234|217|162|625|638|460|189|310|1238|1598|2836
Dvorak|205|54|34|692|753|285|395|396|984|1829|2813
Semimak|238|237|326|390|506|200|450|393|1191|1549|2739
**Middlemak**|**134**|**127**|**207**|**847**|**440**|**460**|**189**|**306**|**1314**|**1396**|**2710**
**MiddlemakNH**|**148**|**127**|**207**|**847**|**440**|**460**|**189**|**286**|**1328**|**1376**|**2704**
CTGAP(final/5)|138|215|207|646|524|443|202|308|1205|1476|2682
APTv3|214|270|374|469|283|186|446|421|1328|1335|2663
Nerps(ansi)|164|364|223|579|386|443|202|274|1329|1305|2634
Colemak|130|127|116|842|747|200|141|315|1214|1402|2616
Norman|127|127|223|674|525|377|244|319|1150|1465|2615
Workman|123|232|330|753|505|200|146|325|1437|1176|2613
MTGAP|293|116|413|246|667|320|219|318|1068|1524|2592

*Sorted by distance reduction. All distances in metres. Same source as table above.

First, you can see Qwerty’s distances are extremely high. All the alternatives make big reductions.

Notice that the index fingers move *way* more than the other fingers.

Middlemak balances this out decently and moves more distance to both middle fingers. The left index finger is still a bit high because it has D off the home row (this brings it back to the discussion of where does the 11th letter go). Middlemak’s left index is slightly higher than Colemak’s even though they have the same letters because the row stagger *technically* puts D on a slight diagonal. A technicality really.

The right index finger is low, a good feature that the index finger next to the vowels doesn’t have to travel much. Compared to Colemak, Middlemak’s movement is 41% lower than Colemaks.

### Zoom in on index fingers

Keyboard|Distance|Distance|Total|Index Finger % of total distance
:--|:--|:--|:--|:--
||L Index |R Index|L+R Index|L+R Index
QWERTY|1413|1169|2582|53%
Beakl-15|344|810|1154|37%
Canary(ansi)|625|638|1263|45%
Dvorak|692|753|1445|51%
Semimak|390|506|896 m|33%
**Middlemak**|**847**|**440**|**1287**|**47%**
**Middlemak**|**847**|**440**|**1287**|**48%**
CTGAP(final/5)|646|524|1169|44%
APTv3|469|283|752|28%
Nerps|579|386|965|37%
Colemak|842|747|1589|61%
Norman|674|525|1200|46%
Workman|753|505|1259|48%
MTGAP|246|667|913|35%

Notes: *Sorted by distance reduction. All distances in metres. Same source as table above.

Here you can really see how much work the index fingers do. Middlemak’s sum of the index fingers is nice and low.

You can also look at the percentage of travel with the index finger. Middlemak’s is down at 47% - meaning the index fingers are responsible for 47% of all the distance travelled. On Colemak the index fingers account for 61% the distance travelled, quite a big difference relatively. Workman and Norman are close to Middlemak. MTGAP is very low. Dvorak and Qwerty percentages are a bit deceiving though - the higher index finger distances are hidden by the higher total amount of distance.

So even when Middlemak’s left index finger doesn’t have a reduction in distance, the total index finger distance is significantly reduced.

## Hand Balance based on Distance %

This is the distance in percentages for all the fingers (unlike the raw distances in metres above) so that I can add them up to look at hand balance.

Keyboard|Left hand|Right hand|Hand Balance Ratio|L Pinky|L Ring|L Middle|L Index|R Index|R Middle|R Ring|R Pinky
:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--
QWERTY|48.5|51.5|1.06|2.7|2.6|13.9|29.3|24.2|9.4|9.3|8.7
Beakl-15|40.3*|59.7|1.48|5.7|10.5|13.1|11.0|25.8|17.6|7.5|8.8
Canary(ansi)|43.6|56.4*|1.29|8.2|7.7|5.7|22.0|22.5|16.2|6.7|10.9
Dvorak|35.0*|65.0|1.86|7.3|1.9|1.2|24.6|26.8|10.1|14.0|14.1
Semimak|43.5|56.5*|1.30|8.7|8.7|11.9|14.2|18.5|7.3|16.4|14.4
**Middlemak**|**48.5**|**51.5***|**1.06**|**5.0**|**4.7**|**7.6**|**31.2**|**16.3**|**17.0**|**7.0**|**11.3**
**MiddlemakNH**|**49.1**|**50.9**|**1.04**|**5.5**|**4.7**|**7.6**|**31.3**|**16.3**|**17.0**|**7.0**|**10.6**
CTGAP(final/5)|44.9|55.1*|1.23|5.2|8.0|7.7|24.1|19.5|16.5|7.5|11.5
APTv3(ansi)|49.9|50.1*|1.01|8.0|10.1|14.1|17.6|10.6|7.0|16.7|15.8
Nerps(ansi)|50.5|49.5|0.98|6.2|13.8|8.5|22.0|14.7|16.8|7.7|10.4
Colemak|46.4|53.6*|1.15|5.0|4.8|4.4|32.2|28.6|7.6|5.4|12.0
Norman|44.0|56.0|1.27|4.8|4.8|8.5|25.8|20.1|14.4|9.3|12.2
Workman|55.0|45.0*|0.82|4.7|8.9|12.6|28.8|19.3|7.6|5.6|12.5
MTGAP|41.2*|58.8|1.43|11.3|4.5|15.9|9.5|25.7|12.3|8.4|12.3

Notes: Sorted by distance reduction. Same source as table above. * indicates vowel hand (Norman and Qwerty are mixed enough that there is no clear vowel hand). The ratio between the hands can change quite quickly, so I think that highlights the differences between the layouts better. Ratio >1 indicates right hand dominant, <1 indicates left hand dominant.

I think the raw distances are better for comparison between layouts, but some people like percentages. I used this mostly to calculate hand balance.

You can see Middlemak spreads out the work. The pinkies are low, ring fingers are reasonable, middle takes on more, and the indexes have most of the distances. 

## Hand Balance based on Frequency

Now we’re shifting to frequency. You can see the data for all the fingers, this is enlightening on its own. I also add them up to look at the hand balance.

Keyboard|Left hand|Right hand|Hand Balance Ratio|L Pinky|L Ring|L Middle|L Index|R Index|R Middle|R Ring|R Pinky
:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--
QWERTY|56.5|43.5|0.77|9.4|8.3|15.4|23.4|18.8|8.4|11.8|4.5
Beakl-15|48.2*|51.8|1.07|3.9|12.4|18.8|13.1|18.9|18.4|10.3|4.2
Canary|43.5|56.6*|1.30|6.0|9.8|8.8|18.9|16.6|19.6|9.9|10.4
Dvorak|44.8*|55.3|1.23|10.3|8.1|12.2|14.2|17.2|13.4|13.0|11.7
Semimak|46.6|53.4*|1.15|9.7|10.1|11.8|15.0|12.2|14.9|15.6|10.7
**Middlemak**|**48.8**|**51.2***|**1.05**|**9.4**|**8.3**|**9.7**|**21.4**|**13.7**|**19.6**|**9.9**|**8.0**
**MiddlemakNH**|**47.5**|**52.5***|**1.11**|**8.1**|**8.3**|**9.7**|**21.4**|**12.8**|**19.6**|**9.9**|**10.2**
CTGAP(final/5)|46.2|53.8|1.16|7.3|9.9|12.8|16.2|14.0|19.3|10.1|10.4
APTv3|47.3|52.6*|1.11|8.7|10.6|15.0|13.0|11.5|14.7|15.5|10.9
Nerps|48.5|51.4|1.06|8.3|12.2|12.5|15.5|11.9|19.3|10.1|10.1
Colemak|46.7|53.2*|1.14|9.4|7.7|8.2|21.4|19.4|14.9|9.1|9.8
Norman|51.7|48.3|0.93|9.3|8.3|15.4|18.7|15.2|13.2|11.8|8.1
Workman|50.7|49.3*|0.97|9.3|10.1|11.1|20.2|15.2|14.9|9.7|9.5
MTGAP|49.9*|50.0|1.00|10.8|8.4|18.8|11.9|16.3|14.5|9.8|9.4

Notes: Sorted by distance reduction. Same source as table above. * indicates vowel hand (Norman and Qwerty are mixed enough that there is no vowel hand). Ratio of >1 indicates right hand dominant, <1 indicates left hand dominant.

The ratio between the hands can change quite quickly, so I think that highlights the differences between the layouts better than the percentages. I know it doesn't add up to 100%, the analyzer is doing some rounding or something behind the scenes, I'm not going to round any further. 

E is so common that it bumps up any finger it’s on. 

Middlemak’s left middle finger takes on a bit more work. The left index is still high because of D. The right index is notably lower taking off common letters. The right middle takes on more of the work with O. And the right pinky is lower too with the H there. 

## Hand Balance Distance + Frequency

This is the same chart that was above, just for a summary.

Keyboard|Vowel Hand|Dominant Hand|Hand Balance ratio based on Frequency|Hand Balance ratio based on Distance|Hand Balance ratio based on Frequency and Distance|Corrected comparison number for left hand dominant
:--|:--|:--|:--|:--|:--|:--
QWERTY|n/a|Left|0.77|1.06|0.82|**1.22**
Norman|n/a|Right|0.93|1.27|**1.19**|
Beakl-15|Left|Right|1.07|1.48|**1.59**
Workman|Right|Left|0.97|0.82|0.80|**1.26**
Dvorak|Left|Right|1.23|1.86|**2.30**|
Middlemak|Right|Right|1.05|1.06|**1.11**|
Colemak|Right|Right|1.14|1.15|**1.32**|
MiddlemakNH|Right|Right|1.11|1.04|**1.15**|
MTGAP|Left|Right|1.00|1.43|**1.43**|
Nerps(ansi)|Right|Right|1.06|0.98|**1.04**
Engram|Left|Right|1.09|1.43|**1.56**|
CTGAP(final/5)|Right|Right|1.16|1.23|**1.43**|
APTv3|Right|Right|1.11|1.01|**1.12**|
Canary(ansi)|Right|Right|1.30|1.29|**1.68**
Semimak|Right|Right|1.15|1.30|**1.49**|

Sorted by SFB count. Ratio of >1 indicates right hand dominant, <1 indicates left hand dominant. Hand Balance ratio based on Frequency **and** Distance is a simple multiplication of the two.

## Frequency-off-home-row (F.O.H.R.)

At the risk of too much information, another way to look at this is the frequency that’s off-home-row. I.e. the frequency that is not under the fingers.

Distances weigh the keys differently, while frequency-off-home-row levels that field. This should be read in conjunction with distance. Neither is better than the other, it’s just a different measurement.

Keyboard|L Pinky|L Ring|L Middle|L Index|R Index|R Middle|R Ring|R Pinky|L+R Index|Index FOHR as % of All fingers FOHR
:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--
QWERTY|1.6|2.1|11.6|21.4|18.6|7.5|7.8|4.5|40.0%|53%
Beakl-15|2.2|5.6|7.2|5.3|12.7|9.7|3.9|2.6|18.0%|37%
Canary(ansi)|3.4|3.6|3.2|10.2|10.2|8.0|3.1|2.6|20.4%|46%
Dvorak|2.5|0.9|0.6|11.7|11.7|4.7|6.6|5.5|23.4%|53%
Semimak|3.5|4.5|5.4|**6.3**|**8.4**|3.3|7.8|3.9|14.7%|34%
**Middlemak**|**1.6**|**2.1**|**4.1**|**12.7**|**7.3**|**8.0**|**3.1**|**2.5**|**20.0%**|**48%**
**MiddlemakNH**|**1.7**|**2.1**|**4.1**|**12.7**|**7.3**|**8.0**|**3.1**|**2.4**|**20.0%**|**48%**
CTGAP(final/5)|1.7|3.5|4.1|10.0|8.5|7.7|3.3|2.6|18.5%|45%
APTv3|3.1|4.4|6.3|7.5|5.1|3.1|7.7|4.1|12.7%|31%
Nerps|1.9|6.6|3.8|9.3|6.4|7.7|3.3|2.3|15.7|38%
Colemak|1.6|2.1|2.0|12.7|13.0|3.3|2.3|2.6|25.7%|65%
Norman|1.5|2.1|3.8|10.|8.8|6.4|4.6|2.6|18.8%|47%
Workman|1.5|3.9|5.6|11.5|8.8|3.3|2.5|2.7|20.3%|51%
MTGAP|4.0|2.0|7.2|4.1|10.8|5.8|3.6|3.8|14.9%|36%

Sorted by distance reduction. I did this after noticing, on Colemak, that my right index finger moves off the home row a lot. For Colemak the left index finger has more distance, but the right index finger has more frequency-off-home-row. The long distance to B on the left hand skews the distance travelled.

The end effect is similar on most of the layouts: FOHR tones down the left hand dominance and bumps up the right hand dominance, because the distances especially to Qwerty B are levelled out. With Colemak the frequency of H and L is enough to actually flip them. This is more noticeable with layouts that keep Qwerty’s B (which is just frequent enough to skew things), layouts that change the letter to a less common one shift less. 

Also insightful is “Index FOHR as % of All fingers FOHR”. It shows that on Middlemak the index fingers do 48% of all frequency-off-home-row, quite reasonable. Whereas on Colemak the index fingers have 65% of all frequency-off-home-row, very high. Workman is just a tad higher with the index fingers doing 51% of frequency-off-home-row. Dvorak’s and Qwerty’s 53% for index fingers is a bit deceiving though, it appears low but that's because the overall total FOHR is much higher.

This is similar to “Zoom in on the index fingers”, but this shows an even greater difference between Middlemak and Colemak. This shows Middlemak at 48% and Colemak at 65% based on index finger % of total FOHR. Recall Middlemaks was 47% and Colemaks was 61% based on index finger % of total distance. Same thing, when the distances to the diagonals are levelled out, the frequency stands out.

## Pinballing stats

Keyboard|Vowel %|Consonant %|Consonant % minus home row
:--|:--|--:|--:
Beakl-15|100%|HKQJX 7.3%|HKQJX 7.3%	
Canary(ansi)|95%|NHMFXZ 29.5%|HMFXZ 18.3%
Dvorak|100%|YPKJXQ 8.5%|YPKJXQ 8.5%
Semimak|100%|DCWGPQ 22.4%|CWGPQ 15.3%
Middlemak|80%|NMFKJ 20.5%|MFKJ 9.3%
Middlemak-NH|100%|HMFKJ 19.4%|MFKJ 9.3%
CTGAP(final/5)|100%|HDFYKX 25.8|DFYKX 15.6%
APTv3|100%|NLQJZ 18.5%|LQJZ 7.3%
Nerps(ansi)|100%|HFBKZ 17.8%|FBKZ 7.6%
Colemak|80%|NHLMKJ 33.7%|HLMKJ 22.4%
Workman|80%|NLFPKJ 26.5%|LFPKJ 15.2%
MTGAP|100%|NPJQZ 15.0%|PJQZ 3.8%

Sorted by distance reduction. *I decided to not include H for Middlemak because of the direction that the bigrams go. (Fyi if H was included, the NHMFKJ would be 31%, and the consonant % minus homerow would still be MFKJ 12%.) But the location of H matters because it’s almost always followed by a vowel. Putting H with the rest of the consonants means the pinballing can start there. Putting H alone on the pinky gives an inside roll. 

The way I would read this to make probabilities, eg for Middlemak, would be 1.0\*0.8\*0.205\*0.8...= 0.132 vs Colemak of 1.0\*0.8\*0.337\*0.8...= 0.216 for a quadgram. For a pentagram: Middlemak would be 1.0\*0.8\*0.205\*0.8\*0.205 = 0.0269 vs Colemak of 1.0\*0.8\*0.337\*0.8...= 0.0727. You can keep going. Starting with 1.0 to establish the word starts with the consonant on the vowel hand.

There are issues with this, it's based on frequency rather than actual specific _gram information or words. 

The Consonant % minus home row is given because the home row is easier to type on. The consonants that are not on home-row are more awkward to move to.


# Excessive amount of detail on letters for Middlemak

You really don’t need to read this, mostly if you have any lingering or specific Q on specific letters.

### D position and why not curl?

Back to the discussion of there being 11 common letters: Where to place that 11th letter is difficult, it’s either the ring finger or index finger. Many find the ring finger to not be very dexterous for such a frequent letter. So putting D on the index finger with T works very well for low SFB.

Why not the middle row? First, I think most people find it easier to reach up and down rather than laterally. Second, it works very well with the LD roll.

Why not the bottom row? I want to leave the bottom row the same as Qwerty for easy adoption and to leave the shortcuts of undo=cut-copy-paste the same. I also think C and M (the curl locations) are already near perfect frequencies for those locations. Those are the middle of the pack frequencies, which are perfect for the index fingers - which cover 6 to 7 letters.

I previously said that I’m not a fan of Colemak’s L position, which is the same upper-row-index-finger. But Colemak’s L has a ton of NFBs with the vowels, especially with E but also with all the other vowels. Looking at the whole hand, 62% of Colemak’s L bigrams are on the same hand. I think that’s a big source of discomfort. But with Middlemak’s D, only 22% of bigrams are on the same hand. So Middlemak has far lower same-hand-gymnastics.

### The R and L position

I’m sure the R and S location will attract attention, so I’ll discuss it more here.

If you want to skip this, the main factor is that R and L pair well together. Better than S and L. That means the RL column goes on the middle finger. R being more common goes on the home row, and L goes on the middle-finger-upper-row which is a strong location.

[First note that Colemak had to go with ARST because of F on the middle-finger-upper-row. The SFB of RF/FR is more common than SF/FS.]

#### ASRT, making a RL column

The pros of ASRT is it gives fewer SFB, with LR/RL being less than half as common as SL/LS. It also gives fewer ring-to-pinky-rolls with SA being far less common than Colemak’s RA. It also makes it much easier to learn from Qwerty.  

The cons is that the R position leads to more NFB with the index finger. Most of these feel ok but RD, GR, BR are not so good. These aren’t super common, but they are there. PR gives the commonly disliked lateral NFB, but I think it’s relatively ok for the frequency - it’s not super common. RS creates an outside roll, but I’d rather have the RS on Middlemak’s middle-to-ring fingers than Colemak’s RA on the ring-to-pinky fingers. Colemak’s RA is much more common than Middlemak’s RS too.

#### ARST, making a SL column

The pros of ARST is that it gives an inside roll of RS. It also separates R from the NFB letters on the index finger, which do add up. However, I’m trying to resolve the NFBs of Colemak’s right hand H and L with E which is a magnitude larger, in addition to the pinballing that it creates which requires moving L.

The cons with ARST is that it gives more SFB. It’s not huge, but it is there. It also gives a lot of ring-to-pinky outside rolls with RA. And finally this makes it much harder to learn coming from Qwerty.

#### Verdict: ASRT, RL column

None of these are huge deal breakers for one or the other. I went with lower SFB, lower ring-to-pinky rolls, and much easier to learn. At the cost of some NFB on the index finger and inside roll of RS.

(If someone comes from Colemak and wants ARST, they can. It's not a humongous downside to do that. Mostly the more common RA ring-to-pinky roll and slightly more SFB of SD/DS.)

(This layout truly does work better with ASRT. If it didn’t work, I would have changed it. For example, I wanted to keep G on its Qwerty location but it’s better to move it, so I didn’t shy away from changes.)

### P and G location

It’s better to move G than keep it in its Qwerty location.

P and G are pretty much the same frequency, so it doesn’t matter in that sense. 

P has a SFB with T, and it has common bigrams of PR, SP, and even PA. Those work better with P on the middle row. There is PL, but the ones above outweigh it.

G has a bigram with NG. With N on the opposite hand, that means G can go on the worse diagonal spot. There is GR, but PR is far more common.

### O location

O and E together give very low SFB. This is a great opportunity to put them together. The strong middle finger only has 3 keys, so it can handle two very frequent letters.

### U, Y and F locations

U works pretty well with I, the SFB are reasonably low. This location also creates a nice OU and YOU roll. 

Y goes to the index finger, which actually works pretty well. I broke down the numbers in SFB section. 

F goes to the right hand index finger, because putting P or G on the right hand gives too many SFB with M and N. The F location works quite well for both moderate frequency and low SFB. It has a lot of NFB with OF/FO, so placing it next to O makes a comfortable roll.

# My Personal Ponderings

### Layout Flavour

There are two main factors that impact the flavour of a layout. I cover this in the next two sections.

### Interaction between Vowels & Consonants, Hand comfort, and Hand Balance

First is the interaction between vowels and consonants. What got me thinking about this is how to measure hand dominance. The two most obvious metrics for hand dominance are 1) The number of key presses 2) The distance the hand has to travel (which is different from the number of key presses, because you don't travel to the home-row). But that doesn’t seem sufficient to me anymore.

How I’m thinking of this now is the interaction between the vowels and the consonants. Doing the math myself, **75% of bigram frequency is between vowels and consonants, 5% is between vowels and vowels, and 20% is between consonants and consonants.** Open any page and you can see this pattern yourself. Considering there's 6 vowels and 20 consonants, the vowel-to-vowel / consonant-to-consonant aspect is pretty much identical on a per letter basis. But the vowel-to-consonant pattern is very prominent, especially considering there's only 6 vowels.

The interaction between vowels and consonants is the easiest way to think about bigrams and longer patterns that emerge from that. I think how arranges the vowels and consonants is the first factor that impacts the flavour of a layout. 

### Letter Placement of the 9th, 10th, and 11th most common letters.

The second factor in layout flavour is the placement of the 9th, 10th, and 11th most common letters. When you look at the [letter frequency](https://commons.wikimedia.org/wiki/File:English_letter_frequency_(frequency\).svg) there's 11 very common letters before it takes a drop. There's 8 spots underneath the fingers, where the first 8 letters go. So that leaves 3 common letters and where do they go?

Colemak places them on the index fingers laterally and index finger upper row. Colemak DH places them on the index fingers bottom row and index finger upper row. Workman places it on the middle and ring fingers upper row, and then one on the index finger bottom row. MTGAP places them on the middle fingers upper row (which I’m a fan of) and index finger upper row. Semimak on the middle and ring finger upper row. Dvorak has to place 4 because it puts U on the home row, so places them on the index fingers laterally, ring finger and pinky finger upper row (please no).

Wherever they go is the second big factor in the "flavour" of that layout. That is where most common finger movement will be, so it better be in a strong location in addition to a good flow with the consonant vowel interaction. 


### Is it rolls, pinball, or alternating hands?

I can see this as highly subjective, this is my take. 

Inward rolls can be comfortable. Outward rolls not as much. When it comes to the upper or lower row, generally jumping around the rows can become awkward very quickly. I can’t go over every permutation but suffice to say the comfortableness is very dependent on the exact pattern. There are many rolls that are comfortable, but there are just as many that are awkward or uncomfortable.

But once it gets longer and starts going in/out/in/+ it's less of a roll and more of a pinball, being stuck on one hand bouncing back and forth rapidly. The problem is when you get to tri/quad/penta/+grams, rather than bigrams. This is where I'd call it a pinball instead of rolls. Having the pinball stuck on one hand for long sequences can get uncomfortable pretty quickly.

The clearest line between the two is probably that it's a roll when it is strictly inward or outward. But when it starts going both inward and outward, that's where it becomes a pinball.

This is not limited to a number, but the dividing line is *typically* the trigram. Trigrams can be either rolls if it’s only inward or outward, but trigrams could be a pinball instead if it’s bouncing back and forth. When you get into quad+ grams on one hand, it’s likely pinballing. For example: Rolls can be like RR or RRR (R means right hand, RR means right hand twice in a row, RRR means right hand three times in row). Pinball can happen with RRR, but most certainly with RRRR, or RRRRR, or RRRRRR, etc.
 
**The easiest way to avoid this pinball effect entirely is to alternate hands.** This is best done by putting the vowels on one hand and the consonants on the other. This was how Dvorak approached it and I’m starting to recognize the advantages of it more. 


##### Colemak

Colemak has E I O U Y (all except A) on the right hand. This is 80% of the vowel frequency. Combined with several frequent consonants N H L M + K J this leads to a lot of bi/tri/quad/+grams that are done on the right hand.

First, this can be the cause of uncomfortable NFB (Neighbour finger bigrams). Some find HE, I find LE/EL. This can't be overlooked, NFB was the whole reason Colemak-DH was created. The very common HE bigram highlighted it, but the concept applies to all NFB when consonants and vowels are close.

Second there can be a significant pinball effect where it bounces repeatedly between the right hand vowels and the frequent N H L M + K J. Or longer patterns with only token input from the left hand. E.g. a bi/trigram on the right hand, followed by one letter on the left hand, then another bi/trigram on the right hand again is still very right hand dominant.


##### Colemak-DH

The right hand swaps H and M. That works to reduce the frequency of the center column, which some find awkward. But it doesn't change, as I see it, the underlying problem of a pinballing effect between the letters and consonants.

Another point, Colemak with DH changes a lot of the keyboard. At that point, users can also consider full change layouts. Colemak DH leaves shortcuts *accessible*, but for typing it’s a lot of changes and you can consider a full change layout instead.

##### Workman

Workman also has E I O U Y on the right hand. But it gets rid of H and M on the vowel hand, replacing them with less frequent P and F. This will reduce the pinball effect compared to Colemak since it's now those vowels with N L P F K J. Not sure if that was a goal but that’s how I see this aspect, and a main advantage of Workman. 

##### Norman

Norman keeps E A on the left hand and I O U Y on the right. This spreads out the vowel frequency, with E A being 52% of the vowel frequency and I O U Y  being 48%. The pinball effect is effectively more random with half the vowel frequency on each hand. There will be some level of pinballing on each hand, but with effectively 50/50 vowels on either hand it really shouldn't get caught on either hand for long. It relies on randomness though instead of by design, so some will happen. But it should break up many, but not all, longer quad/penta+grams and break up hand dominance. At least that's how I'm leaning towards looking at it.

##### Dvorak

Dvorak addressed this by creating alternating hands, by putting all the vowels on one hand and all the consonants on the other. This naturally breaks up most bigrams between hands. Tri+grams would basically be nonexistent. But with only 6 vowels and 20 consonants there is a discrepancy in sheer numbers that can’t easily be solved. Dvorak puts the punctuation and a few infrequent consonants with the vowels. But the right hand has pretty much all the 20 consonants - all the frequent and middle of the pack ones. Thus the right hand has most of the hand movement, 65% - a ratio of almost 2:1. (And if you swap the obvious U-I, the right hand goes up to 71% of the distance, a ratio of 2.4:1.) While it breaks up the bigrams quite well, with a movement imbalance like that I can’t call that balanced either. There are also 7 very frequent consonants and only 4 spots under the fingers, so Dvorak puts 3 off the home row - one on the index, one on the ring, and one on the pinky. The L on the pinky finger-upper row is not a good choice imo. And Dvorak oddly puts the I in the centre column instead of U.

##### MTGAP

[MTGAP keyboard layout](https://github.com/kenranunderscore/mtgap-layout) is a computer generated layout that’s interesting on a few fronts.

First it puts all the vowels on one hand, but it adds N and P to the vowels to help balance out the hands. This is a good concept because there are so many consonants it leads to overwork and awkwardness for the right hand.

Second it moves O off the home row. When you look at the letter frequencies there are 9 common letters before it takes a drop off. Most layouts move one of the last 2, H or R, off the home row. But MTGAP moves O off the home row instead, a bold move. It pairs well above E because the bigram EO/OE is low (38% lower than EU/UE, see below). Assigning both E and O to one hand brings it to 19% of key presses, which is high  - in league with the index finger on many layouts, but with less distance because it has no diagonals. So I think it’s manageable.

Third. Another issue is putting a vowel on an index finger. You automatically think with 4 common vowels they go under the fingers. But the index finger is responsible for 6 letters. A vowel under the index finger naturally leads to a fair number of Same Finger Bigrams and even same finger trigrams. Even if non-frequent consonants are put on the other 5 index finger keys, the vowel-consonant bigrams are so high it will lead to a lot of SFB. MTGAP has a very unique solution of putting punctuation on the index fingers. That bigram information is harder to come by, but I think there's fewer  vowel-to-punctuation bigrams. And most punctuation is followed by a space, eliminating the punctuation-to-vowel direction entirely. It looks strange but it’s a very good solution.

Fourth. Putting punctuation on the index fingers also lowers the Near Finger Bigrams (NFB) with both the E and O on the middle finger. E pairs with so many letters that even NFB can be tiring over time. Eg with Colemak, many complain about the HE NFB. Personally I don’t like the LE/EL. The JE is also awkward. MTGAP puts punctuation instead of letters on the adjacent index finger, so it takes out all the E_, _E, O_, and _O NFBs on the index finger. It’s a bit of a nuclear option, but does it ever work. The O on the upper row middle finger can lead to awkward NFB with the two row jump for the index finger bottom row. But again the punctuation on the index finger eliminates all of these. If you have a layout with vowels on the ring finger upper row, that could be an issue too.


Fifth. For general design, MTGAP puts two frequent letters on the middle finger-upper row, which I’m a fan of. These are strong fingers that can easily reach that position. The next one is the index finger upper row, which is ok. 

But I think there’s room for improvement.

Possible improvement # 1) The Y and W seem too frequent for their positions. You can see the charts above where the pinkies have a relatively high travel and presses off home row.

Possible improvement # 2) Second, which I'm going to focus on, is which frequent consonant goes best with the vowels?

There are two ways to look at this: a) Which consonant works well with the vowels, or b) which common consonant does not play well with the other consonants. That one is the odd one out and gets punted to the vowel hand.

On the first one: a) MTGAP adds the N to the vowels, but let's look at adding H to the vowels instead. H-to-vowel bigram frequency is 54% of N-to-vowel, almost half and most of it is HE. Then N and H have roughly equal bigrams with consonants. u/Keybug has pointed out that H is almost always followed by a vowel. Looking at the bigram data H-vowel is 86x more common than vowel-H. So putting H on the pinky finger of the vowel hand guarantees inward rolls and very few outward rolls. So I think H would go better with the vowels. Using H could lead to Same Finger Bigram with P though, so that pathway also needs to be evaluated and likely changed. 

On the second b) I think you’d basically need a computer analysis on this. You can play with it by hand enough, but computer analysis would work better.

For MTGAP, some users say it is both roll and alternating heavy, which seems like a contradictory statement. I think with just one common letter N it keeps rolls limited to bigrams and some trigrams, but it prevents any severe pinballing where it’s stuck on one hand for long. (See pinball battle section below for more.)

The hands are still decently unbalanced even with the N (and H would be slightly more unbalanced). The distances the hands have to travel in Dvorak is 65% right hand to 35% left, a ratio of 1.86x (and if you swap the obvious I-U, it goes to 71% right hand, a ratio of 2.44). MTGAP is 59% right to 41% left, a ratio of 1.42. So the ratio does change quickly, it’s not nearly as bad. (For reference the movement ratios are: BEAKL-15 1.48, Hands Down 1.33, Engram 1.43, Dvorak with U and I swapped goes to 2.44. All these layouts with the vowels on one hand tend to be skewed decently, although QGMLWY balanced it with 1.07. Colemak is 1.16, Norman 1.28, and Workman 1.22.)

To conclude, MTGAP has several interesting and bold approaches to solving the problems of putting all the vowels on one hand 1) Moving O off the home row 2) Adding N and P to the vowel hand 3) Putting the punctuation on the vowel hand’s index finger. I think of it as a modern day Dvorak.

Interestingly and oddly, MTGAP 2.0 came out with a very different concept. Not sure what to think about that.

[CTGAP](https://github.com/CTGAP/ctgap-keyboard-layout) looks like an interesting iteration on MTGAP.

[APTAP](https://github.com/Apsu/APTAP/tree/main) is another iteration.


##### Epic ~~Rap~~ Pinball battle of layouts: Colemak vs MTGAP

But wait, didn’t I say Colemak had pinballing with the vowels and NHLMKJ? How does that compare to MTGAP's vowels and NPJQZ? Simply put, there's more pinballing on Colemak and less on MTGAP. For a proper look I’d have to add up all the tri/quad/penta/+grams (that's where the pinball becomes a problem) between the consonants and vowels on the hand, but to give a quick picture let’s just look at the consonant frequency. Colemak’s NHLMKJ is 34% frequency of all consonants, MTGAP’s NPJQZ is 15%. That’s a big difference, Colemak’s NHLMKJ is 1/3 of consonant frequency, MTGAP’s is 1/6.6. So MTGAP’s consonants will give far less pinballing where it’s stuck on one hand for long.

There’s probably another factor on comfort: which consonants are *on* vs. *off* the home row. Bigrams *on* the home row with N and vowels are likely **more** comfortable. But bigrams *off* the home row, like Colemak's H L etc., are likely **less** comfortable. To give a quick picture let’s again look at the consonant frequency: Removing N, Colemak’s HLMKJ is 22% frequency of all consonants, and MTGAP’s PJQZ is 4%. A very stark difference in how much the hands have to move off home row for the rolls. 

Caveats and considerations: MTGAP’s addition / Colemak's subtraction of A with the rest of the vowels will change it, but remember Colemak's EOIUY is already 80% of vowel frequency. So I think the consonant frequencies 34% vs 15%, and 22% vs 4% for off home row, still give a very good idea of what’s going on. The probabilities would be 1.0\*0.8\*0.34... vs 1.0\*1.0\*0.15...

##### QGMLWY

QGMLWY also puts all the vowels on one hand and adds H and P. It also puts a vowel on the index finger, which leads to  Same Finger Bigram (SFB). Dvorak's index SFB isn’t actually that bad, but QGMLWYs is surprisingly *quite* high on the index finger.

QGMLWY puts two frequent letters in the centre column, which puts a lot of work on the index fingers and has a quite high SFB on the index fingers. QGMLWY also fixed the punctuation in place. Allowing the punctuation to change opens many more optimization paths, like on the index finger.

##### BEAKL-15, Hands Down, ISRT

BEAKL-15 and Hands Down also put all the vowels on one hand and also have the bold O above E. BEAKL-15 adds H to the vowels which I like. Hands Down adds the far less frequent W - no frequent letters. These also put a vowel on the index finger, which can lead to Same Finger Bigram. I didn’t run the numbers, but BEAKL-15 should be less because it puts 2 punctuation keys, Hands Down I'm not sure with since it has the less frequent U, but also has Y. ISRT avoids this by putting I and Y on the opposite hand with the consonants, but that subtracts from the alternating concept.

BEAKL-15 has a high overall distance traveled because it avoids putting frequent letters on the home row pinky. Hands Down is also high distance because it puts U under the index finger instead of a frequent letter - missing that one common letter does it. 

Both BEAKL-15 and Hands Down put frequent letters on the bottom row middle finger, which is likely better on a matrix keyboard. For a standard keyboard, I think MTGAP would be more comfortable. 

##### Halmak

This also has vowels on one side with D for balance. But D is off the home row so will have more uncomfortable rolls than MTGAP. 

For general design, it has one letter on the middle finger-upper row while MTGAP has 2 which is better in my opinion. 

##### Engram

Engram puts all the vowels on one hand with the C under a finger, a middle of the pack consonant. So not as balanced. Putting a middle of the pack consonant under the finger also means the distance travelled is bumped up. Not as much as BEAKL-15 or Hands Down but still higher than most.

Engram also changes the qwerty position of “[“. While I’m a fan of opening up 31 key locations to changes to get optimization (the standard 30 + ‘), I think going beyond that is dicey. Same with all the special characters that it changes. 

##### Conclusion on pinballing

With all this, I think if you want a very optimized layout, a layout with the vowels on one hand (plus at least one frequent consonant for balance) and consonants on the other makes the most sense. MTGAP looks the most appealing, I’m starting to think of it like a modern day Dvorak. Though I’d be tempted to switch the H and N around, but that needs a more thorough analysis with all the knock on effects.

Sidenotes:

Afaik MTGAP, QGMLWY, Halmak, are computer generated. Dvorak, BEAKL, and Hands Down are human designed. It’s interesting how they all have the same concept of vowels on one hand.

Back to Norman, the advantage Norman still has is that it can be picked up quickly, both in absolute and relative terms compared to these other layouts. It’s still the 80/20 fix. Solutions like MTGAP can take 6 months to a year to get fully up to speed. If you want something that can help you relatively quickly Norman’s the one. 

On Dvorak, if you modify it to solve the most pressing issues of I and L, then you lose the advantage that it’s already installed on OS’s. So why not learn a more optimized layout like MTGAP at that point.

### Right or left hand dominant?

Some say it should be right hand dominant because most people are right handed. But look at pianists, I doubt they have an issue with the left hand. Right handedness is more for fine motor control, pressing keys doesn't really require fine control. So I think the concept of the right hand being any better for typing is off the mark or exaggerated. I think the hands are more or less equivalent for typing.

###Vowels hand and Y

The letter Y is an interesting problem if you want to have all the vowels on one hand. With 6 vowels, you have to put one vowel on either the index finger or the pinky upper row. The odd one out is commonly Y, though it can be any vowel. 

To put the odd vowel out on the index finger can easily lead to SFBs. To put Y on the middle or ring fingers takes away a good spot for more frequent vowel. To put it on the pinky upper row, it seems a bit too common for that hard to reach location. So choices are limited. Y is a problem letter.

Workman just says nuts to it and keeps it on the index finger. MTGAP puts two vowels on the index finger. Colemak leaves A in the QWERTY position, thus avoiding the problem.


## Quick layout evaluation (Work in progress)

For those new and don’t know how to think about layouts, I’ll write my quick thoughts on how to evaluate layouts.

First: we have to know about the vowel and consonant interaction. 

Second: We have to think about where the 9th, 10th, and 11th common letters go.

### Vowel Consonant interaction

A whopping 75% of bigrams are between vowels and consonants. Most layouts make a vowel hand to some extent or the other.

Related to this vowel consonant interaction I see two main layout families: The A-layouts and the O-layouts.

#### The A-layouts

These are the layouts that put A on the left hand with the consonants. You see this with Colemak, Colemak-DH, Workman, Soul, Middlemak, and I’m including ISRT.

There was difficulty getting all the vowels on one hand*, so these layouts leave A in the Qwerty location or punt one vowel to the consonant hand. (*The difficulty is that if you put a vowel on the index finger, you basically can’t put any consonants with it because that will create high SFB.)

This is ok but is not the most optimal.

#### The O-layouts

These are the layouts that put O on the upper row on the vowel hand. Typically above E, but you also see above A. You see this with MTGAP, CTGAP, Canary, Semimak, Nerps, APTv3, Hands Down, Middlemak and Middlemak-NH. AFAIK this started with MTGAP, and the community has been playing with it since. 

These put all the vowels on one hand to maximize alternating. This is because putting O on the upper row opens up another spot on the home row for another vowel. The index-finger-homerow can still be used for a consonant too without much issue.

Though Y is still a problem - some layouts put it on the pinky-finger-upper-row, some on the index, some put it with the consonant hand.


### The 9th, 10th, and 11th letters.

When you look at the [letter frequency](https://commons.wikimedia.org/wiki/File:English_letter_frequency_(frequency\).svg) there are 11 very common letters before it takes a drop. There's 8 spots underneath the fingers, where the first 8 letters go. So that leaves 3 common letters and where do they go?

This can have many effects:

Where you will be reaching most of the time. So know which of your fingers are stronger and which movements are fine, and which are not. 

Possible redirects and pinballing. This can happen if several common consonants are placed next to the vowel cluster. 

This is the biggest impact on hand balance. They add both more frequency and more distance to that one hand.


### SFB distribution

Also watch out for SFBs on pinky and ring fingers. The overall amount may be low, but putting notable amounts on the pinky or ring (typically by putting middle of the pack letters on them) may lead to SFBs on these weak fingers.


### The middle of the pack letters, or the low frequency letters

There are many middle of the pack letters that can be distributed in many different ways. This will impact the load distribution if more load goes to the pinky, ring, middle, or index finger. While the effect is lower than the 9th, 10th, 11th letters, these really do add up.

Another way to look at this is: Where are the low frequency letters? There are only 4 low frequency letters: Z X Q J. (Then it’s a small step to: K V. Then you’re basically in the middle of the pack.) 

Putting the 4 low frequency letters on the pinky or ring fingers means the middle and index fingers pick up more work. Putting the 4 low frequency letters on the centre columns means the pinky and ring pick up more work. 

So know your fingers and where you want the work. 

### Difficulty maps

You typically see the standard difficulty map that puts a difficulty on each key. But I think you need more than the one standard difficulty map. For a fully optimized layout, you also need a difficulty map for ease-of-movement from one key to the next key. For example, on Qwerty the movement QA is slow, QS is very hard, QD is still hard, QF is ok, QZ is horrendous, QX is both horrendous and awkward, QC (with index pressing C) is meh but not good, QW is ok, QE is ok, QR is ok, (but all lead to a slightly weird hand position after), etc, *but Q+anything-on-right-hand is much better.* You want to create a whole map for Q and the difficulty of the next letter. But I think most analyzers and people focus on QA and QZ because it's a SFB. I think for a fully optimized computer analysis you need 31 difficulty maps - a map for each key and the difficulty of the next key. That’s on top of the standard single difficulty map.

Having 31 difficulty maps can also account for repeat letters, eg LL, SS, EE, OO, etc. You can put in the difficulty of repeating that same key for each of the 31 keys. E.g. using the pinky for Qwerty’s AA isn't so good and QQ is even worse. On Colemak SS, TT, NN, EE are good because they're on the home row with strong fingers. Colemak's OO isn't so good. And it can use the same scale as the rest of the difficulty map.

I think something for trigrams should also be done like this, but it’s tough without unduly interfering with the bigrams. What’s difficult for the first and third letter, is easy between the second and third letter.

Trying to find something comfortable between the first and third letter could interfere with the comfortableness between the second and third letter. You don’t want the trigrams to overpower the bigram difficulty maps. E.g. Q_Z is difficult (with the underscore representing a letter inbetween them). Let’s say it’s QIZ. QI is marked as easy, IZ is marked as easy, but the Q_Z is bad. But if you optimize for the Q_Z to be easy, you’d interfere with making QI and IZ easy, which are likely more important. So I think to account for trigrams it needs to focus more on punishing the awkward movements between the first and third letter, rather than promoting good trigrams. E.g. punish really awkward trigrams like Qwerty’s Q_A, Q_Z, etc. This is not limited to the same finger, it can be done for adjacent fingers. Q_X is also awkward and can be punished. Same with Q_C. Q_S is not as bad, but also not great and can have a moderate punishment. This would be another 31 maps. 
 

As for quadrigrams, the difficulty between the first and fourth letter, by the time you get there it’s lessened significantly, e.g. the word Quiz, the Q and Z is okay. It could be added, but this is likely the point of diminishing returns and not worth it. (Perhaps really common quadgrams may be worth checking, which is “that”, “ther”, “with”, “tion”.)

[But didn’t I say that patterns come last? For ease-of-transition I think that’s true, first focus on getting frequent letters to the home row and to good spots first. Qwerty is just that bad that it didn’t even do this. My ponderings here are about getting full 100% optimization. There is no easy transition option for this principle. I still think Norman is excellent as an 80-20 fix.]

### Distance

The distance travelled is a factor. The biggest benefit is from reducing it down from the insane Qwerty distances, but after that I think it’s diminishing returns. For example, the distance improvements that Colemak, Norman, and Workman make are all important. But the differences between them are so minor that any difference is negligible. I’m not sure how diminishing returns on distances can be programmed into an analyzer.

As for getting infrequent letters on the diagonals, this can be influenced by both the distance and the base difficulty map. But a base difficulty map can also make the lower diagonals V N easier than the upper diagonals T Y, and B significantly harder than V and N.

### Shift Key

I can’t be the only one that thinks the left shift is more comfortable. So an analyzer could include using the left shift key with most of the frequent capital letters (like the start of words and “The”) being in a comfortable position, the right hand being obviously better. 

## More Analyzer

Of course from everything above, I think the index fingers shouldn’t be overloaded either. The only way I can see programming this is as a relative multiple to the other fingers. I think this is necessary since the bigram map wouldn’t account for the distance, just the difficulty/comfort. 




